function clickCookie(){cookies+=clickMultiplier;totalCookies+=clickMultiplier;updateCookieDisplay();clickSound.currentTime=0;clickSound.play();saveGameState()}function updateCookieDisplay(){const n=document.getElementById("cookieCount");n&&(n.textContent=Math.floor(cookies));const t=document.getElementById("totalCookies");t&&(t.textContent="総ふじい: "+Math.floor(totalCookies))}function saveGameState(){const n={cookies:cookies,facilityPrices:facilityPrices,facilities:facilities,cookiesPerSecond:cookiesPerSecond};localStorage.setItem("gameState",JSON.stringify(n))}function loadGameState(){const n=localStorage.getItem("gameState");if(n){const t=JSON.parse(n);cookies=t.cookies;facilityPrices=t.facilityPrices;facilities=t.facilities;cookiesPerSecond=t.cookiesPerSecond}else facilityPrices=Object.assign({},initialFacilityPrices);updateCookieDisplay();updateCookieProductionDisplay()}function updateCookieProductionDisplay(){const n=document.getElementById("perSecond");n&&(n.innerHTML=cookiesPerSecond+" ふじい/秒")}function updateFacilityPrices(){for(const n in facilityPrices)facilityPrices[n]=Math.ceil(initialFacilityPrices[n]*Math.pow(1.1,facilities[n]))}function updateFacilityDisplay(){const n=document.getElementById("facilityList");if(n){n.innerHTML="";for(const t in facilities){const r=document.createElement("li"),i=document.createElement("button");i.textContent=`${t} - ${facilities[t]} 個 (価格: ${facilityPrices[t]} ふじい)`;i.addEventListener("click",function(){buyFacility(t)});r.appendChild(i);n.appendChild(r)}}}function buyFacility(n){cookies>=facilityPrices[n]?(cookies-=facilityPrices[n],facilities[n]++,cookiesPerSecond+=facilityCookieProduction[n],updateCookieDisplay(),updateFacilityPrices(),updateFacilityDisplay(),updateCookieProductionDisplay()):alert("クッキーが足りません！")}function resetGameState(){confirm("ゲームの進行状況をリセットします。よろしいですか？")&&(localStorage.removeItem("gameState"),cookies=0,facilityPrices=Object.assign({},initialFacilityPrices),facilities={"受験生祖父":0,SOFTGAMES608:0,"いつき":0,"すばる":0,"うどん":0,"そふとコーポレーション":0,"いるかスタジオ":0,NIGATENDO:0,"そらみコーポレーション":0},clickMultiplier=1,totalCookies=0,cookiesPerSecond=0,clickRateIncreasePrice=10,updateCookieDisplay(),updateFacilityPrices(),updateFacilityDisplay(),updateCookieProductionDisplay())}function calculateTotalCookies(){let n=cookies;for(const t in facilities)n+=facilities[t]*facilityCookieProduction[t];for(const t in facilityPrices){const i=facilityPrices[t],r=facilities[t];n+=i*r}return n}function increaseClickRate(){cookies>=clickRateIncreasePrice?(cookies-=clickRateIncreasePrice,clickMultiplier++,clickRateIncreasePrice*=3,updateCookieDisplay(),updateIncreaseClickRateButton(),updateFacilityDisplay()):alert("ふじいが足りません！")}function updateIncreaseClickRateButton(){const n=document.getElementById("increaseClickRateButton");n&&(n.textContent=`クリックの倍率を増加 (価格: ${clickRateIncreasePrice} ふじい)`)}let cookies=0,cookiesPerSecond=0,totalCookies=0,facilities={"受験生祖父":0,SOFTGAMES608:0,"いつき":0,"すばる":0,"うどん":0,"そふとコーポレーション":0,"いるかスタジオ":0,NIGATENDO:0,"そらみコーポレーション":0},facilityPrices={"受験生祖父":10,SOFTGAMES608:20,"いつき":30,"すばる":50,"うどん":80,"そふとコーポレーション":120,"いるかスタジオ":160,NIGATENDO:210,"そらみコーポレーション":260};const facilityCookieProduction={"受験生祖父":1,SOFTGAMES608:2,"いつき":3,"すばる":5,"うどん":7,"そふとコーポレーション":12,"いるかスタジオ":15,NIGATENDO:18,"そらみコーポレーション":21},initialFacilityPrices={"受験生祖父":10,SOFTGAMES608:20,"いつき":30,"すばる":50,"うどん":80,"そふとコーポレーション":120,"いるかスタジオ":160,NIGATENDO:210,"そらみコーポレーション":260};let clickMultiplier=1.05,clickRateIncreasePrice=10;const clickSound=new Audio("https://media.masiyu.jp/masi/3cmHcgB6OSa");updateFacilityPrices();updateFacilityDisplay();setInterval(saveGameState,0);loadGameState();const totalCookiesDisplay=document.getElementById("totalCookies");if(totalCookiesDisplay){const n=calculateTotalCookies();totalCookiesDisplay.innerHTML=`総ふじい: ${n} ふじい`}setInterval(function(){cookies+=cookiesPerSecond;updateCookieDisplay()},1e3);const resetButton=document.getElementById("resetButton");resetButton.addEventListener("click",resetGameState);
